---
title: "Forensisches Wasserzeichen mit den nativen SDKs"
description: "In diesem Thema erfahren Sie, wie Sie die Brightcove Native SDKs verwenden, um mit Forensic Watermarking geschützte Videos bereitzustellen."
parent: Features 
grandparent: Home
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

  <section class="bcls-section">
    <h2 id="Introduction">Einführung</h2>
    <p>
      Mit Forensic Watermarking können Sie Ihre Premium-Inhalte vor Piraterie und unbefugtem Teilen von Inhalten schützen. Diese Funktion fügt Ihren Videos ein unsichtbares Wasserzeichen hinzu, sodass Sie Inhaltslecks verfolgen können.
    </p>
    <p>Weitere Informationen finden Sie im <a href="https://apis.support.brightcove.com/general/overview-forensic-watermarking.html">Überblick: Forensische Wasserzeichen</a> dokumentieren.</p>
  </section>

  <section class="bcls-section">
    <h2 id="Requirements">Anforderungen</h2>
    <p>Die folgenden Anforderungen sind erforderlich, um diese Funktion zu unterstützen:</p>
    <h3>Aufstellen</h3>
    <p>Zusätzlich zur Konfiguration Ihres Players gibt es Setup-Anforderungen. Einzelheiten finden Sie im <a href="https://apis.support.brightcove.com/general/overview-forensic-watermarking.html">Überblick: Forensische Wasserzeichen</a> dokumentieren.</p>

    <h3>Gerätebetriebssystemversion</h3>
    <ul>
      <li>Android 6.0 und neuer</li>
      <li>iOS 11.0 und neuer</li>
    </ul>

    <h3>Brightcove SDK-Version</h3>
    <ul>
      <li>Natives SDK für Android 6.16.3 und neuer</li>
      <li>Natives SDK für iOS 6.9.0 und neuer</li>
    </ul>
  </section>

  <section class="bcls-section">
    <h2 id="Using_Playback_Rights_Android">Android-Implementierung</h2>
    <p>Die Konfiguration für forensische Wasserzeichen wird auf Videoebene durchgeführt.</p>
    
    <ol class="bcls-tasklist-restart">
      <li>
        <p>Der Player muss in Ihr Registrierungssystem integriert sein, damit eine Viewer-ID an den Analytics Web Beacon (in der <code translate="No">user</code> Gebiet).</p>
        <p>Zum Beispiel:</p>
  <pre class="line-numbers"><code class="language-java" translate="No">HashMap&lt;String, String&gt; baseParams = new HashMap&lt;&gt;();
  baseParams.put(Analytics.Fields.USER, &quot;viewer id&quot;);
  baseParams.put(Analytics.Fields.APPLICATION_ID, &quot;application id&quot;);
  
  HashMap&lt;String, Object&gt; eventParams = new HashMap&lt;&gt;();
  eventParams.put(Analytics.Fields.BASE_PARAMS, baseParams);
  eventEmitter.emit(EventType.ADD_ANALYTICS_BASE_PARAMS, eventParams);          
</code></pre>
      </li>
      <li>
        <p>In dem <code translate="No">Catalog.findVideo</code> oder <code translate="No">Catalog.findPlaylist</code> Methodenaufrufe, fügen Sie die <code translate="No">VideoUtil</code> -Methode, um Ihr Wasserzeichen-Token hinzuzufügen.</p>

        <p><strong>Im onVideo Rückruf</strong></p>
        <pre><code class="language-java" translate="No">public void onVideo(Video video) {
    VideoUtil.addWatermarkingToken(video, yourWatermarkingToken);
    brightcoveVideoView.add(video);
} 
</code></pre>
        <p><strong>Im onPlaylist-Rückruf</strong></p>
        <pre><code class="language-java" translate="No">public void onPlaylist(Playlist playlist) {
  for (Video video : testPlaylist.getVideos()) {
      VideoUtil.addWatermarkingToken(video, yourWatermarkingToken);
  }
  brightcoveVideoView.addAll(testPlaylist.getVideos());
}
</code></pre>
      </li>
      <!-- <li>
        <p>
          <p>In the player Activity’s <code translate="No">onCreate</code> method, add this call, before any Catalog calls to retrieve your video or playlist:</p>
          <pre><code class="language-java" translate="No">VideoUtil.setWatermarkingToken(yourWatermarkingToken);
</code></pre>
        </p>
      </li> -->
      <li>
        <p>Wenn dieser Aufruf vorhanden ist und der Katalog die Video- oder Playlist-Metadaten von der Playback-API abruft, wird die <code translate="No">VideoUtil</code> -Klasse ersetzt den Platzhalter für das Wasserzeichen-Token <code translate="No">{WMT}</code> mit dem Tokenwert, wo immer er in den Quell-URLs des Videos vorkommen kann. Dieses Token kann für jedes Video in einer Playlist ersetzt werden, das möglicherweise mit einem Wasserzeichen versehen ist.</p>
      </li>
    </ol>

    <h3>Chromecast</h3>
    <p>Um ein Video mit Wasserzeichen zu streamen, müssen Sie beim Erstellen Ihres Videos Ihre Anwendungs-ID, Ihr Wasserzeichen-Token und Ihre Benutzer-ID angeben <code translate="No">BrightcoveCastCustomData</code> Objekt mit dem Cast-Plugin.</p>
      <p>In Ihrem Code zum Einrichten der <code translate="No">BrightcoveCastCustomData</code> Objekt, fügen Sie diese Zeile hinzu:</p>
      <pre><code class="language-java" translate="No">public static void setupGoogleCast() {
GoogleCastComponent.Builder castPluginBuilder = new GoogleCastComponent.Builder(eventEmitter, context)
        .setAutoPlay(isAutoPlayEnabled)
        .setQueuingSupported(isQueuingSupported);

    BrightcoveCastCustomData.Builder customDataBuilder = new BrightcoveCastCustomData.Builder(context)
        .setApplicationId(yourApplicationId)
        .setWatermarkingToken(yourWatermarkingToken);
        .setUserId(yourUserId);
        // Add the custom data elements to the castPluginBuilder
        
    castPluginBuilder
        .setEnableCustomData(true)
        .setCustomData(customDataBuilder.build());
}            
</code></pre>

    <p>Wenn Sie eine Cast-Verbindung mit einem mit Wasserzeichen versehenen Video öffnen, sollte ein <code translate="No">customData</code> Objekt formatiert wie folgt:</p>
    <pre><code class="language-json" translate="No">{
      &quot;accountId&quot;: &quot;yourAccountId&quot;,
      &quot;analyticsParams&quot;: {
          &quot;application&quot;: &quot;yourApplicationId&quot;,
          &quot;user&quot;: &quot;yourUserId&quot;
      },
      &quot;catalogParams&quot;: {
          &quot;type&quot;: &quot;video&quot;,
          &quot;id&quot;: &quot;videoId&quot;,
          &quot;policyKey&quot;: &quot;yourPolicyKey&quot;,
          &quot;watermarkingToken&quot;: &quot;yourWatermarkingToken&quot;
      }
  }  
</code></pre>

    <h3>Offline-Wiedergabe</h3>
    <p>Der Prozess zum Herunterladen eines Videos kann mehr als einen Katalogaufruf umfassen, um die aktuellen Video-Metadaten abzurufen. Brightcove empfiehlt das Hinzufügen der <code translate="No">onVideo</code> Rückrufcode oben für Ihre Rückrufe, die beim Erwerb von Kauf- oder Mietlizenzen und beim Herunterladen des Videos vorhanden sein können.
    </p>
    <p>Sobald das Video heruntergeladen wurde, sollte die Offline-Wiedergabe wie gewohnt funktionieren.</p>
    <p>
      Einzelheiten finden Sie im <a href="https://github.com/BrightcoveOS/android-player-samples/blob/master/brightcove-exoplayer/OfflinePlaybackSampleApp/src/main/java/com/brightcove/player/samples/offlineplayback/MainActivity.java">Beispiel-App für die Offline-Wiedergabe</a>.
    </p>

  </section>

  <section class="bcls-section">
    <h2 id="iOS_Implementation">iOS-Implementierung</h2>
    <p>
      Gehen Sie folgendermaßen vor, um einen Player für die Verwendung von forensischem Wasserzeichen zu konfigurieren:
    </p>
    <ol class="bcls-tasklist-restart">
      <li>
        <p>Der Player muss in Ihr Registrierungssystem integriert sein, damit eine Viewer-ID an den Analytics Web Beacon (in der <code translate="No">user</code> Gebiet).</p>
        <p>Hier geben Sie Werte für die Benutzer-ID und die Anwendungs-ID an:</p>
        <pre class="line-numbers"><code class="language-objectivec" translate="No">@try
  {
    [BCOVGlobalConfiguration.sharedConfig setValue:@{
      @&quot;privateUser&quot;: @&quot;your user id&quot;,
      @&quot;privateApplication&quot;: @&quot;your application id&quot;
    }
    forKey:@&quot;privateSessionAnalytics&quot;];
  }
  @catch (NSException *e)
  {
    NSLog(@&quot;%@&quot;, e.description);
  }       
</code></pre>
      </li>
      <li>
        <p>Als Teil der Brightcove-Kataloganforderung für ein einzelnes Video oder eine Playlist stellen Sie Ihr NAGRA-Wasserzeichen-Token bereit. Dies geschieht mit dem <code translate="No">watermarkingToken</code> Eigentum.</p>
        <p>Fügen Sie Ihr Wasserzeichen-Token zum Wiedergabedienst hinzu.</p>
        <pre class="line-numbers"><code class="language-objectivec" translate="No">/**
* The watermarking token for use with Forensic Watermarking
*/
@property (nonatomic, copy) NSString *watermarkingToken;
...
playbackService.watermarkingToken = self.watermarkingToken;     
</code></pre>
      </li>
      <li>
        <p>Senden Sie Ihre Anfrage an den Brightcove-Katalog für ein einzelnes Video oder eine Playlist.</p>
        <p>Für eine Videoanfrage:</p>
<pre class="line-numbers"><code class="language-objectivec" translate="No">- (void)findVideoWithVideoID:(NSString *)videoID parameters:
  (NSDictionary *)parameters completion:(void (^)
  (BCOVVideo *video, NSDictionary *jsonResponse, NSError *error))completionHandler;
</code></pre>
        <p>Für eine Playlist-Anfrage:</p>
<pre class="line-numbers"><code class="language-objectivec" translate="No">- (void)findPlaylistWithPlaylistID:(NSString *)playlistID parameters:
  (NSDictionary *)parameters completion:(void (^)
  (BCOVPlaylist *playlist, NSDictionary *jsonResponse, NSError *error))completionHandler;
</code></pre>   
      </li>
    </ol>
    <p>Weitere Informationen finden Sie im Abschnitt Forensic Watermarking der Native SDK für iOS-Referenz.</p>

    <h3>Chromecast</h3>
    <p>Für das Casting müssen Sie das Wasserzeichen-Token und die userId-Felder angeben.</p>
      <p>In Ihrem Code zum Einrichten der <code translate="No">BrightcoveCastCustomData</code> Objekt, fügen Sie diese Zeile hinzu:</p>
      <pre><code class="language-objectivec" translate="No">BCOVReceiverAppConfig *appConfig = [BCOVReceiverAppConfig new];
...
appConfig.userId = @&quot;ios-client@brightcove.com&quot;;
appConfig.watermarkingToken = watermarkingToken;
...                 
</code></pre>

    <p>In der Debugging-Konsole sehen Sie die Konfigurationswerte, die für Ihre Chromecast-Sitzung verwendet werden.</p>
    <pre><code class="language-json" translate="No">Google Cast Custom Data: {
  accountId = &lt;your_account_id&gt;;
  analyticsParams =     {
      application = &quot;&quot;;
      user = &quot;ios-client@brightcove.com&quot;;
  };
  catalogParams =     {
      adConfigId = &quot;&quot;;
      bcovAuthToken = &quot;&quot;;
      id = &lt;your_video_id&gt;;
      policyKey = &quot;&lt;your_policy_key&quot;;
      type = video;
      watermarkingToken = &quot;&lt;your_watermark_token&quot;;
  };    
</code></pre>

    <h3>Offline-Wiedergabe</h3>
    <p>Die Offline-Wiedergabe sollte wie gewohnt funktionieren, sobald das Video heruntergeladen wurde.</p>

    <p>
      Um mit dieser Funktion zu beginnen, lesen Sie die <a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/OfflinePlayback.md">Entwicklerleitfaden für iOS-Apps zur Offline-Wiedergabe</a> Hinweis.
    </p>
  </section> 

  <section class="bcls-section">
    <h2 id="Limitations">Einschränkungen</h2>
    <p>Einzelheiten zu den Einschränkungen für diese Funktion finden Sie im <a href="https://apis.support.brightcove.com/general/overview-forensic-watermarking.html#Limitations">Überblick: Forensische Wasserzeichen</a> dokumentieren.</p>
  </section>

</article>