---
title: 'Cast-Plugin für das Native SDK für Android'
description: In diesem Thema erfahren Sie, wie Sie Ihre Videos mithilfe des Cast-Plug-ins für das Brightcove Native SDK für Android auf einen mit Chromecast verbundenen Fernseher übertragen.
parent: Connected TV 
grandparent: Android Development
layout: staging
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Overview">Überblick</h2>

<p>Mit <a href="https://developers.google.com/cast/docs/developers">Google Cast</a> Technologie können Sie gestreamte Videoinhalte von Ihren Mobilgeräten zu hochauflösenden Fernseh- und Heimaudiosystemen initiieren und steuern. Tippen Sie in Ihrer App auf die Cast-Schaltfläche, um Ihre Inhalte auf einem großen Bildschirm zu streamen.</p>

<p>Um eine Cast-Anwendung zu erstellen, benötigen Sie die folgenden Komponenten:</p>

<ul>
	<li>
	<p>EIN <strong>Absender Bewerbung</strong> - Diese befindet sich auf Ihrem Mobilgerät und erkennt Empfängergeräte, stellt eine sichere Verbindung her und spiegelt Ihre Inhalte. Die Sender-App ist der lokale Player, mit dem Inhalte an die Empfänger-App auf Ihrem Chromecast-Gerät übertragen werden. Nachdem Sie die Übertragung an die Empfänger-App vorgenommen haben, können Sie sie sich als Fernbedienung für den Chromecast vorstellen.</p>

	<p>Die Absender-App wird vom Cast-Plug-in für das Brightcove Native SDK für Android bereitgestellt. Sie erfahren es in diesem Thema.</p>
	</li>
	<li>
	<p>EIN <strong>Empfängeranwendung</strong> - Diese Anwendung läuft auf dem Chromecast-Gerät. Man kann es sich als eine einseitige HTML-App mit CSS- und JavaScript-Assets vorstellen.</p>

	<p>Gehen Sie zum Testen wie folgt vor:</p>

	<ol class="bcls-tasklist">
		<li>Beginnen mit <a href="https://github.com/googlecast/CastReceiver">Sample Cast-Empfänger von Google</a></li>
		<li>Rezension <a href="https://developers.google.com/cast/docs/sample-apps#castreceiver">Google Cast-Apps</a> Dokumentation</li>
	</ol>

	<p>Für Produktionszwecke veranschaulicht dieses Dokument die Verwendung von Brightcove Receiver v2.0.0.</p>
	</li>
</ul>

<aside class="bcls-aside bcls-aside--information">
  <p>Anmerkungen:</p>
  <ol>
    <li>Google unterstützt nicht die Verwendung seiner Demo-Empfänger-App in einer Produktionsumgebung.</li>
    <li>Das Cast-Plug-in für das Brightcove Native SDK für Android bietet keine Empfänger-App-Funktionalität.</li>
  </ol>
  </aside>
</section>

<section class="bcls-section">
<h2 id="Supported_SDK_version">Unterstützte SDK-Version</h2>
<p>Um das Cast-Plug-in mit dem neuen Brightcove Receiver v2.0 zu verwenden, müssen Sie das Brightcove Native SDK für Android Version 6.16.0 und höher verwenden.</p>
</section>

<section class="bcls-section">
<h2 id="Understanding_the_Cast_plugin">Das Cast-Plugin verstehen</h2>
<p>Das Cast-Plugin basiert auf dem <a href="https://medium.com/google-exoplayer/new-cast-extension-and-demo-app-55816a50012">neue ExoPlayer Cast-Erweiterung</a> und das Google Play Services Cast Framework. Nach dem Hinzufügen der Cast-Plugin-Abhängigkeit zieht gradle die Play Services Cast Framework-Abhängigkeit, die ExoPlayer Cast Extension-Abhängigkeit zusammen mit anderen erforderlichen Abhängigkeiten.</p>

<p>Das Cast-Plug-in wurde neu gestaltet, um Ihren Aufwand bei der Integration in Video Cloud zu minimieren. Wenn Sie Video Cloud verwenden, <code translate="No">BrightcoveCastMediaManager</code> -Klasse sammelt Informationen aus der Video Cloud-Antwort, z <code translate="No">Video</code> und <code translate="No">Source</code> Objekte, jedes Mal, wenn die <code translate="No">EventType.SET_SOURCE</code> Ereignis ausgegeben wird. Diese Informationen werden zwischengespeichert und können verwendet werden, wenn der Benutzer die Wiedergabe auswählt, um das Video in die Warteschlange zu stellen.</p>
</section>

<section class="bcls-section">
<h2 id="Integrating_the_Cast_plugin">Integration des Cast-Plugins</h2>
<p>Es gibt zwei Möglichkeiten, wie Sie Ihre App mit dem Native SDK für Android Cast-Plug-in integrieren können. Sie können entweder den Brightcove Cast Receiver v2.0 oder den Google Cast Demo Receiver integrieren.</p>
<p>Für beide Integrationen müssen Sie Ihrem App-Projekt diese Abhängigkeit hinzufügen:</p>
<pre>
<code class="language-java" translate="No">implementation &quot;com.brightcove.player:android-cast-plugin:6.16.0&quot;</code></pre>

<h3 id="Using_the_Brightcove_Cast_Receiver_v2">Verwenden des Brightcove Cast-Empfängers v2.0</h3>
<p>Diese Integration ist für Brightcove-Kunden gedacht, die Brightcove-APIs verwenden, um ihre Inhalte bereitzustellen.</p>
<p>Ein vollständiges Codebeispiel finden Sie im <a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/BasicCastBrightcoveReceiverSampleApp">BasicCastBrightcoveReceiverSampleApp</a>.</p>

<h3 id="Using_the_Google_Cast_Demo_Receiver">Verwenden des Google Cast-Demoempfängers</h3>
<p>Diese Integration ist für Brightcove-Kunden gedacht, die neu im Casting sind.</p>
<p>Ein vollständiges Codebeispiel finden Sie im <a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/BasicCastGoogleReceiverSampleApp">BasicCastGoogleReceiverSampleApp</a>.</p>
<aside class="bcls-aside bcls-aside--tip">Die <strong>BasicCastGoogleReceiverSampleApp</strong> Beispiel-App war früher bekannt als die <strong>BasicCastSampleApp</strong></aside>

<h4 id="Specifying_your_own_Cast_Receiver_App_Id">Angeben Ihrer eigenen Cast-Empfänger-App-ID</h4>
<p>Die <strong>BasicCastGoogleReceiverSampleApp</strong> legt eine Google Demo Receiver-App-ID fest, die für den Einstieg und das Testen hilfreich sein kann, jedoch nicht für die Produktion.</p>
<p>Um diesen Wert mit Ihrer Cast Receiver-Anwendung zu überschreiben, definieren Sie den folgenden Zeichenfolgenwert in der Beispiel-App <strong>strings.xml</strong> Datei:</p>
<pre>
<code class="language-java" translate="No">&lt;string name=&quot;cast_receiver_app_id&quot;&gt;4F8B3483&lt;/string&gt;</code></pre>
</section>

<section class="bcls-section">
<h2 id="The_Brightcove_GoogleCastComponent">Die Brightcove-GoogleCast-Komponente</h2>

<p>Die <code translate="No">GoogleCastComponent</code> class ist die Hauptklasse des Brightcove Cast-Plug-ins. Es instanziiert den ExoPlayer CastPlayer und setzt seine Listener. Es stellt einige wichtige Methoden zum Laden eines Videos oder zum Hinzufügen zur Warteschlange bereit. Die <code translate="No">GoogleCastComponent</code> -Klasse fügt außerdem mehrere Brightcove-Ereignis-Listener hinzu, um Aktivitäts- und Fragment-Lebenszyklusereignisse zu verarbeiten, sowie andere Ereignis-Listener, mit denen Sie Medieninformationen ausgeben können, um ein Video auf Ihr Chromecast-Gerät zu laden.</p>

<p>Die <code translate="No">GoogleCastComponent</code> verwendet jetzt ein Builder-Muster. In den nativen SDK für Android-Versionen vor v6.16.0 mussten Sie die Komponente instanziieren und die <code translate="No">Context</code> und <code translate="No">EventEmitter</code> zum <code translate="No">GoogleCastComponent</code> Konstrukteur. Anschließend würden Sie die Optionen der Komponente in einer Reihe separater Methodenaufrufe festlegen.</p>
<p>Verwenden Sie ab dem Native SDK für Android v6.16.0 das Builder-Muster, um eine Instanz des <code translate="No">GoogleCastComponent</code> und legen Sie seine Optionen fest, alles innerhalb einer einzigen Kette von Builder-Methodenaufrufen.</p>
</section>

<section class="bcls-section">
<h2 id="CustomData">Benutzerdefinierte Daten</h2>
<p>Wie bei der <code translate="No">GoogleCastComponent</code> , das <code translate="No">CustomData</code> -Klasse verwendet ein Builder-Muster, um das Objekt zu instanziieren und ihm Eigenschaften hinzuzufügen. Während der Brightcove-Empfänger <code translate="No">CustomData</code> Um Videos aus Ihrem Brightcove-Katalog abzurufen, ist es nicht erforderlich, eine vollständige <code translate="No">CustomData</code> -Objekt, beispielsweise für das Casting eines Remote-Assets. Es ist auch wichtig zu beachten, dass bei Verwendung des Google Demo Receivers die Verwendung von <code translate="No">CustomData</code> wird nicht unterstützt. Für die Zwecke dieser Diskussion konzentrieren wir uns auf <code translate="No">CustomData</code> an den Empfänger gesendet, der zum Abrufen der Videodaten aus dem Brightcove-Katalog verwendet wird.</p>

<h3>Was sind CustomData?</h3>
<p><code translate="No">CustomData</code> ist ein JSON-Objekt, das in der <code translate="No">MediaInfo</code> Objekt. Die beabsichtigte Verwendung ist mit der Brightcove Cast Receiver App v2.0.</p>

<h3>CustomData mit dem Brightcove-Empfänger und Katalogdaten</h3>
<p>Bei der Integration mit dem Brightcove-Empfänger wird die <code translate="No">CustomData</code> Das JSON-Objekt nimmt diese Form an:</p>
<pre>
<code class="language-java" translate="No">&quot;customData&quot;: {
	&quot;accountId&quot;: &quot;1234567890&quot;,
	&quot;analyticsParams&quot;: {
		&quot;application&quot;: &quot;com.brightcove.player.test&quot;,
		&quot;user&quot;: &quot;abcde1c44b951234&quot;
	},
	&quot;catalogParams&quot;: {
		&quot;adConfigId&quot;: null,
		&quot;type&quot;: &quot;video&quot;,
		&quot;bcovAuthToken&quot;: null,
		&quot;id&quot;: &quot;2345678901&quot;,
		&quot;policyKey&quot;: &quot;BCpkPolicyKeyObject&quot;
	}
}
</code></pre>

<p>Die <code translate="No">CustomData</code> Das obige Objektbeispiel enthält alle Datenelemente, die zum Umwandeln eines Videos vom Brightcove-Empfänger erforderlich sind. Diese Daten sind unabhängig von der Verschlüsselung gleich, dh bei DRM-Videos ist keine zusätzliche Struktur der Lizenz-URL notwendig.</p>
<p>Sie finden auch ein Beispiel für die <code translate="No">CustomData</code> Objekt in der <strong>BrightcoveCastBrightcoveReceiverSampleApp</strong>.</p>

<h3>CustomData mit dem Google Demo Receiver</h3>
<p>Wie oben erwähnt, <code translate="No">CustomData</code> wird vom Google Demo Receiver nicht unterstützt.</p>

</section>

<section class="bcls-section">
<h2 id="BrightcoveCastMediaManager">BrightcoveCastMediaManager</h2>

<p>Es ist möglich, die <code translate="No">BrightcoveCastMediaManager</code> , wie oben gezeigt, um seine Methoden zu überschreiben oder eigene zu implementieren. Beispiele für das Erweitern der BrightcoveCastMediaManager-Klasse finden Sie unter:</p>
<ul>
  <li>Erweitern Sie den Abschnitt BrightcoveCastMediaManager</li>
  <li>BasicCastCustomRemoteVideoSampleApp</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="OptionsProvider">OptionenAnbieter</h2>

<p>Als nächstes müssen Sie die <a href="https://developers.google.com/android/reference/com/google/android/gms/cast/framework/OptionsProvider">OptionenAnbieter</a> Implementierung für das Google Cast-Framework. Die <code translate="No">OptionsProvider</code> Schnittstelle hilft bei der Einrichtung mehrerer Optionen, die zum Initialisieren der <a href="https://developers.google.com/android/reference/com/google/android/gms/cast/framework/CastContext">CastContext</a> Klasse. Hier legen Sie die Cast-Empfänger-App-ID fest. Um mehr über die Integration der . zu erfahren <code translate="No">OptionsProvider</code> , siehe Googles <a href="https://developers.google.com/cast/docs/android_sender_integrate#initialize_the_cast_context">Den Besetzungskontext initialisieren</a> dokumentieren.</p>
<p>Das Brightcove Cast-Plug-in enthält Folgendes: <code translate="No">DefaultOptionsProvider</code> -Klasse, wobei die Cast-Empfänger-App-ID über einen Zeichenfolgenschlüssel festgelegt wird, der in der <strong>strings.xml</strong> Ressourcendatei. Weitere Informationen und Informationen zum Überschreiben in Ihrer App finden Sie im <a href="#Using_your_own_Cast_Receiver_App_Id">Verwenden Ihrer eigenen Cast-Empfänger-App-ID</a> Abschnitt oben.</p>
<p>Ob Sie die <code translate="No">DefaultOptionsProvider</code> Klasse oder deine eigene <code translate="No">OptionsProvider</code> Implementierung müssen Sie die <code translate="No">OptionsProvider</code> Name der Implementierungsklasse im <strong>AndroidManifest.xml</strong> Datei als Schlüssel-Wert-Paar-Metadaten, wie hier gezeigt:</p>
<pre>
<code class="language-java" translate="No">&lt;meta-data android:name=&quot;com.google.android.gms.cast.framework.OPTIONS_PROVIDER_CLASS_NAME&quot; android:value=&quot;com.brightcove.cast.DefaultOptionsProvider&quot; /&gt;</code></pre>
<p>Wenn Sie das verwenden <code translate="No">DefaultOptionsProvider</code> Klasse, können Sie die <code translate="No">ExpandedControllerActivity</code> um die Cast-Benachrichtigung zu aktivieren/deaktivieren, indem du ähnliche Metadaten-Informationen in deinem <strong>AndroidManifest</strong>.</p>
</section>

<section class="bcls-section">
<h2 id="Expanded_Controller_Activity">Erweiterte Controller-Aktivität</h2>

<p>Die <a href="https://developers.google.com/android/reference/com/google/android/gms/cast/framework/media/widget/ExpandedControllerActivity">Erweiterte Controller-Aktivität</a> wird mit der Google Cast-Bibliothek geliefert und ermöglicht es Ihnen, das auf Ihrem Chromecast-Gerät übertragene Video zu steuern. Diese Klasse bietet eine gewisse Anpassungsflexibilität. Es stehen beispielsweise fünf Slots zum Anzeigen von Schaltflächen zur Verfügung, wobei der dritte Slot für die nicht konfigurierbare Play-Schaltfläche reserviert ist. Die restlichen Schaltflächen können als andere vordefinierte Schaltflächen oder als Ihre eigenen benutzerdefinierten Schaltflächen eingerichtet werden.</p>

<p>Das Brightcove Cast-Plug-in bietet die Unterklasse <code translate="No">DefaultExpandedControllerActivity</code>. Wir haben die folgenden Schaltflächen in der folgenden Reihenfolge aktiviert:</p>

<ul>
	<li><strong>Untertitel</strong></li>
	<li><strong>Zurück überspringen</strong></li>
	<li><strong>Spiel</strong></li>
	<li><strong>Das Nächste überspringen</strong></li>
	<li><strong>Stummschaltung</strong></li>
</ul>

<p>Darüber hinaus stellt die Suchleiste die gleiche Standard-Zeichnbarkeit ein, die im Standard verwendet wird <code translate="No">BrightcoveMediaController</code>:</p>

<ul>
	<li>Der Fortschritt Drawable:
	<pre>
<code class="language-java" translate="No">R.drawable.default_scrubber_progress_horizontal</code></pre>
	</li>
	<li>Der Daumen zum Zeichnen:
	<pre>
<code class="language-java" translate="No">R.drawable.default_scrubber_thumb</code></pre>
	</li>
</ul>

<p>Informationen zum Anpassen der Suchleiste finden Sie im <a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-player-controls/SeekBarColorsSampleApp/src/main">SeekBarColorsSampleApp</a>.</p>

<p>Um die <code translate="No">DefaultExpandedControllerActivity</code> oder deine eigene <code translate="No">ExpandedControllerActivity</code> , legen Sie die folgenden Metadaten in Ihrem <strong>AndroidManifest.xml</strong> Datei:</p>
<pre class="line-numbers">
<code class="language-java" translate="No">&lt;meta-data  android:name="com.brightcove.cast.DefaultOptionsProvider.EXPANDED_CONTROLLER_ACTIVITY_CLASS_NAME"
android:value="com.brightcove.cast.DefaultExpandedControllerActivity" /&gt;</code></pre>
</section>

<section class="bcls-section">
<h2 id="Cast_Notification">Cast-Benachrichtigung</h2>

<p>Wenn die Cast-Benachrichtigung aktiviert ist, wird die Benachrichtigung angezeigt, wenn Sie ein Video streamen und Ihre App in den Hintergrund stellen. B. nach Drücken der Home-Taste.</p>
&lt;pUm die Besetzungsbenachrichtigung zu aktivieren, legen Sie die folgenden Metadaten in Ihrem . fest <strong>AndroidManifest.xml</strong> Datei und geben Sie den Namen der Aktivität an, die gestartet werden soll, wenn auf die Benachrichtigung geklickt wird:</p>
<pre class="line-numbers">
<code class="language-java" translate="No">&lt;meta-data android:name="com.brightcove.cast.DefaultOptionsProvider.NOTIFICATION_TARGET_ACTIVITY_CLASS_NAME"
android:value="com.brightcove.cast.BrightcoveControllerActivity" /&gt;</code></pre>

<p>Wenn Sie com.brightcove.cast.DefaultOptionsProvider.NOTIFICATION_TARGET_ACTIVITY_CLASS_NAME nicht angeben oder der Wert einen ungültigen Aktivitätsnamen hat, wird die Besetzungsbenachrichtigung deaktiviert.</p>

<aside class="bcls-aside bcls-aside--information">Beim Entfernen der <code translate="No">meta-data</code> tag von der <strong>AndroidManifest.xml</strong> Datei deaktiviert Benachrichtigungen von der Absender-App, es ist jedoch weiterhin möglich, eine Benachrichtigung auf dem Absendergerät anzuzeigen, die darauf hinweist, dass ein Gerät über Ihr Wi-Fi-Netzwerk sendet. Dies ist keine Benachrichtigung der Sender-App, sondern eine Benachrichtigung des Sendergeräts, unabhängig von einer App-Konfiguration.</aside>
</section>

<section class="bcls-section">
<h2 id="The_Cast_Button">Der Cast-Button</h2>

<p>Mit der Cast-Schaltfläche können Sie ein Chromecast-Gerät im selben Netzwerk wie Ihr Gerät auswählen, eine Verbindung herstellen und eine Sitzung erstellen. Folgen Sie den Anweisungen von Google, um die Cast-Schaltfläche zu Ihrer Anwendung hinzuzufügen <a href="https://developers.google.com/cast/docs/android_sender_integrate#add_a_cast_button">Besetzung integrieren: Cast-Button hinzufügen</a> dokumentieren.</p>
<p>Das Brightcove Cast-Plug-in bietet eine Dienstprogrammmethode zum einfachen Einrichten der Cast-Schaltfläche. Dies ist nützlich, wenn Sie nur die Besetzungsschaltfläche zum Menü „Aktivität/Fragment“ hinzufügen möchten. Weitere Informationen finden Sie im folgenden Code:</p>
	<pre class="line-numbers">
<code class="language-java" translate="No">//Activity
@Override
public boolean onCreateOptionsMenu(Menu menu) {
   super.onCreateOptionsMenu(menu);
   GoogleCastComponent.setUpMediaRouteButton(MainActivity.this, menu);
   return true;
}</code></pre>
</section>

<section class="bcls-section">
<h2 id="The_Mini_Controller">Der Mini-Controller</h2>

<p>Der Mini-Controller ist ein Fragment, das an Ihre Aktivität angehängt wird und sich normalerweise am unteren Rand des Layouts befindet. Der Mini-Controller ermöglicht Ihnen das Abspielen und Anhalten des Videos und zeigt an, wenn ein Video auf Ihrem Chromecast-Gerät abgespielt wird. Wenn auf den Mini-Controller geklickt wird, wird der erweiterte Controller gestartet.</p>
<p>Um den Mini Controller zu aktivieren, fügen Sie dem Layout Ihrer Aktivität den folgenden Code hinzu.</p>
	<pre class="line-numbers">
<code class="language-java" translate="No">&lt;fragment
   android:id="@+id/castMiniController"
   android:layout_width="match_parent"
   android:layout_height="wrap_content"
   android:layout_alignParentBottom="true"
   android:visibility="gone"
   class="com.google.android.gms.cast.framework.media.widget.MiniControllerFragment" /&gt;</code></pre>

<p>Informationen zu Best Practices mit dem Mini Controller finden Sie im <a href="https://developers.google.com/cast/docs/design_checklist/sender#sender-mini-controller">Design-Checkliste: Sender Mini-Controller</a> dokumentieren. Einzelheiten zur Implementierung finden Sie in der <a href="https://developers.google.com/cast/docs/android_sender_integrate#add_mini_controller">Besetzung integrieren: Mini-Controller hinzufügen</a> dokumentieren.</p>
</section>

<section class="bcls-section">
<h2 id="Advanced_Topics">Fortgeschrittene Themen</h2>

<h3 id="Listening_for_Cast_session">Cast-Sitzung anhören</h3>

<p>Wenn Sie möchten, dass Ihre App reagiert, wenn die Cast-Verbindung beginnt oder endet, können Sie die <code translate="No">GoogleCastEventType.CAST_SESSION_STARTED</code> oder <code translate="No">GoogleCastEventType.CAST_SESSION_ENDED</code> Ereignis-Listener wie hier gezeigt:</p>

<pre class="line-numbers">
<code class="language-java" translate="No">eventEmitter.on(GoogleCastEventType.CAST_SESSION_STARTED, new EventListener() {
   @Override
   public void processEvent(Event event) {
       // Session Started
   }
});
eventEmitter.on(GoogleCastEventType.CAST_SESSION_ENDED, new EventListener() {
   @Override
   public void processEvent(Event event) {
       // Session Ended
   }
});</code></pre>

<p>Alternativ können Sie anrufen <code translate="No">GoogleCastComponent.isSessionAvailable()</code> um nach einer verfügbaren Sitzung zu suchen.</p>

<h3 id="Casting_a_Video">Ein Video streamen</h3>

<p>Um nach erfolgreicher Verbindung ein Video auf Chromecast zu streamen, können Sie entweder den EventEmitter verwenden und die Media Info-Informationen ausgeben oder Sie können direkt die <code translate="No">GoogleCastComponent</code> Methoden.</p>

<p>Wenn Sie die Medieninfo lieber ausgeben möchten, können Sie die folgenden Ereignisse verwenden:</p>

<ul>
	<li><code translate="No">GoogleCastEventType.LOAD_MEDIA_INFO</code></li>
	<li><code translate="No">GoogleCastEventType.LOAD_MEDIA_QUEUE_ITEM</code></li>
	<li><code translate="No">GoogleCastEventType.ADD_MEDIA_INFO</code></li>
	<li><code translate="No">GoogleCastEventType.ADD_MEDIA_QUEUE_ITEM</code></li>
</ul>

<p>Die folgende Tabelle zeigt die erwarteten Eigenschaften für jedes Ereignis:</p>

<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th rowspan="2">Veranstaltungsname</th>
			<th colspan="2">Eigenschaften</th>
		</tr>
		<tr>
			<th>Taste</th>
			<th>Wertklassentyp</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><code translate="No">LOAD_MEDIA_INFO</code></td>
			<td><code translate="No">GoogleCastComponent.CAST_MEDIA_INFO</code><br />
			<code translate="No">GoogleCastComponent.CAST_MEDIA_PLAY_POSITION</code></td>
			<td><code translate="No">MediaInfo</code> Ganze Zahl</td>
		</tr>
		<tr>
			<td><code translate="No">LOAD_MEDIA_QUEUE_ITEM</code></td>
			<td><code translate="No">GoogleCastComponent.CAST_MEDIA_QUEUE_ITEM</code></td>
			<td><code translate="No">MediaQueueItem</code></td>
		</tr>
		<tr>
			<td><code translate="No">ADD_MEDIA_INFO</code></td>
			<td><code translate="No">GoogleCastComponent.CAST_MEDIA_INFO</code><br />
			<code translate="No">GoogleCastComponent.CAST_MEDIA_PLAY_POSITION</code></td>
			<td><code translate="No">MediaInfo</code> Ganze Zahl</td>
		</tr>
		<tr>
			<td><code translate="No">ADD_MEDIA_QUEUE_ITEM</code></td>
			<td><code translate="No">GoogleCastComponent.CAST_MEDIA_QUEUE_ITEM</code></td>
			<td><code translate="No">MediaQueueItem</code></td>
		</tr>
	</tbody>
</table>
<br/>
<p>Alternativ können Sie folgendes verwenden <code translate="No">GoogleCastComponent</code> Methoden:</p>

<ul>
	<li>
	<pre>
<code class="language-java" translate="No">public void loadMediaInfo(MediaInfo mediaInfo, long positionMs)</code></pre>
	</li>
	<li>
	<pre>
<code class="language-java" translate="No">public void loadMediaInfo(MediaInfo mediaInfo)</code></pre>
	</li>
	<li>
	<pre>
<code class="language-java" translate="No">public PendingResult&lt;RemoteMediaClient.MediaChannelResult&gt; loadItem(MediaQueueItem mediaQueue, int playheadPosition)</code></pre>
	</li>
	<li>
	<pre>
<code class="language-java" translate="No">public PendingResult&lt;RemoteMediaClient.MediaChannelResult&gt; addItems(MediaQueueItem... mediaQueue )</code></pre>
	</li>
</ul>

<h3 id="Changing_the_default_MediaInfo_data">Ändern der Standard-MediaInfo-Daten</h3>

<p>Standardmäßig sammelt das Cast-Plugin Informationen über das aktuelle Video- und Quellobjekt, das vom <code translate="No">EventType.SET_SOURCE event</code>. Wenn Sie zusätzliche Informationen ändern oder hinzufügen möchten, z. B. ein benutzerdefiniertes JSON-Objekt zu Ihrem <code translate="No">MediaInfo</code> die Ihr App-Empfänger versteht, können Sie dies tun, indem Sie die <code translate="No">loadMediaInfo()</code> und <code translate="No">addMediaInfo()</code> Methoden aus der <code translate="No">BrightcoveCastMediaManager</code>. Dann, dein <code translate="No">BrightcoveCastMediaManager</code> Unterklasse wird als Konstruktorparameter an die <code translate="No">GoogleCastComponent</code> Klasse.</p>

<p>Innerhalb dieser Methoden können Sie Ihre <code translate="No">MediaInfo</code> Objekte und geben die entsprechenden Ereignisse aus, wie zuvor gezeigt. Unbedingt überprüfen <code translate="No">com.brightcove.cast.util.CastMediaUtil</code> , da es einige Dienstprogrammmethoden zum Erstellen eines <code translate="No">MediaInfo</code> aus den Video- und Quellobjekten.</p>

<h3 id="Configuring_the_Cast_MediaController">Konfiguration des Cast MediaControllers</h3>

<p>Gehen Sie folgendermaßen vor, um das Controller-Layout zu ändern, das in Ihrer Brightcove-Videoansicht angezeigt wird, wenn eine Cast-Sitzung gestartet wurde.</p>

<ol class="bcls-tasklist-restart">
	<li><a href="#Extend_the_BrightcoveCastMediaManager">Erweitern Sie den BrightcoveCastMediaManager</a></li>
	<li><a href="#Set_the_MediaControllerConfig">Setzen Sie die MediaControllerConfig</a></li>
	<li><a href="#Overwrite_the_control_bar_setup">Überschreiben Sie das Setup der Steuerleiste</a></li>
</ol>

<h4 id="Extend_the_BrightcoveCastMediaManager">Erweitern Sie den BrightcoveCastMediaManager</h4>

<p>So ändern Sie das Standardverhalten der <code translate="No">BrightcoveCastMediaManager</code> , erstellen Sie eine Unterklasse und überschreiben Sie einige Schlüsselmethoden:</p>

<ul>
	<li>
	<pre>
<code class="language-java" translate="No">public void updateBrightcoveMediaController(boolean isRemote)</code></pre>

	<p>Diese Methode wird aufgerufen von der <code translate="No">GoogleCastComponent</code> wenn sich die Sitzung ändert; das heißt, wenn die Sitzung begonnen oder beendet wurde. Wenn die Sitzung begonnen hat, wird die <code translate="No">isRemote</code> Parameter wird sein <code translate="No">true</code> und der <code translate="No">setupRemoteController</code> Methode aufgerufen wird. Ansonsten der <code translate="No">isRemote</code> wird sein <code translate="No">false</code> und der <code translate="No">resetToLocalController</code> wird genannt.</p>
	</li>
	<li>
	<pre>
<code class="language-java" translate="No">protected void setupRemoteController()</code></pre>

	<p>Diese Methode gibt das Ereignis aus <code translate="No">EventType.SET_MEDIA_CONTROLLER_CONFIG</code> mit dem <code translate="No">MediaControllerConfig</code> Objekt. Wir werden mehr darüber reden <code translate="No">MediaControllerConfig</code> später in diesem Abschnitt. Diese Methode hört auch auf die <code translate="No">BrightcoveMediaController.CONTROL_BAR_CREATED</code> Ereignis und reagiert mit Aufruf des <code translate="No">setupBrightcoveControlBar</code> Methode.</p>
	</li>
	<li>
	<pre>
<code class="language-java" translate="No">protected void resetToLocalController()</code></pre>

	<p>Diese Methode ist für das Zurücksetzen der <code translate="No">BrightcoveMediaController</code> zum ursprünglichen Controller-Layout durch Senden des <code translate="No">EventType.RESTORE_DEFAULT_MEDIA_CONTROLLER</code>.</p>
	</li>
	<li>
	<pre>
<code class="language-java" translate="No">protected void setupBrightcoveControlBar(BrightcoveControlBar controlBar)</code></pre>

	<p>Sobald die <code translate="No">BrightcoveMediaController</code> wurde mit dem Layout in der bereitgestellten neu erstellt <code translate="No">MediaControllerConfig</code> , erhalten Sie Zugang zum <code translate="No">BrightcoveControlBar</code> Aussicht. Von hier aus können Sie auf Ihre UI-Ansichten zugreifen, z. B. Schaltflächen, in denen Sie hinzufügen können <code translate="No">OnClickListener</code>ist für sie.</p>
	</li>
</ul>

<h4 id="Set_the_MediaControllerConfig">Setzen Sie die MediaControllerConfig</h4>

<p>Die <code translate="No">MediaControllerConfig</code> ist eine Konfigurationsklasse, mit der Sie das standardmäßige Steuerelementlayout des <code translate="No">BrightcoveMediaController</code> Klasse. In dieser Klasse können Sie das Layout und die <code translate="No">OnTouchListener</code>. Nach dem Erstellen und Konfigurieren können Sie dieses Objekt wie unten gezeigt ausgeben:</p>

<pre class="line-numbers">
<code class="language-java" translate="No">Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();
properties.put(Event.MEDIA_CONTROLLER_CONFIG, myMediaControllerConfig);
eventEmitter.emit(EventType.SET_MEDIA_CONTROLLER_CONFIG,properties);</code></pre>

<p>Der Standard <code translate="No">MediaControllerConfig</code> Objekt setzt die <code translate="No">R.layout.cast_media_controller</code> wie das Layout mit einem einzigen <strong>Spiel</strong> Taste. Wenn Sie darauf klicken, wird ein Dialogfeld mit zwei Optionen geöffnet:</p>

<ul>
	<li><strong>Jetzt spielen</strong> - Wenn ausgewählt, wird die <code translate="No">loadMediaInfo()</code> -Methode aufgerufen und das Video wird geladen und in Chromecast abgespielt.</li>
	<li><strong>Zur Warteschlange hinzufügen</strong> - Wenn ausgewählt, wird die <code translate="No">addMediaInfo()</code> -Methode aufgerufen und das Video wird am Ende der Warteschlange hinzugefügt.</li>
</ul>

<aside class="bcls-aside bcls-aside--information">Wenn Sie die gleiche Benutzeroberfläche beibehalten möchten, aber zusätzliche Informationen in das übertragene Video laden möchten, können Sie die <code translate="No">loadMediaInfo()</code> und <code translate="No">addMediaInfo()</code> Methoden und passen Sie die Informationen an, die Sie dem <code translate="No">MediaInfo</code> Objekt.</aside>

<h4 id="Overwrite_the_control_bar_setup">Überschreiben Sie das Setup der Steuerleiste</h4>

<p>Wenn Ihr Media-Controller-Layout durch Ausgeben des <code translate="No">MediaControllerConfig</code> , das <code translate="No">BrightcoveControlBar</code> Ansicht wird erstellt und die <code translate="No">BrightcoveCastMediaManager.setupBrightcoveControlBar()</code> Methode aufgerufen wird. Hier können Sie Ihre UI-Komponenten nach ID abrufen und die entsprechenden Listener hinzufügen.</p>

<pre class="line-numbers">
<code class="language-java" translate="No">@Override
protected void setupBrightcoveControlBar(BrightcoveControlBar controlBar) {
   Button playButton = controlBar.findViewById(R.id.cast_play);
   if (playButton != null) {
       playButton.setOnClickListener(new View.OnClickListener() {...});
   }
}</code></pre>

</section>

<!-- <section class="bcls-section">
<h2 id="Cast_plugin_dependencies">Cast plugin dependencies</h2>

<p>The Cast plugin depends on the ExoPlayer Cast Extension:</p>

<pre>
<code class="language-java" translate="No">compile 'com.google.android.exoplayer:extension-cast:2.7.0'</code></pre>

<p>The extension have several dependencies which are listed in the table below:</p>

<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th>Name</th>
			<th>Full notation and current version</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><a href="https://developer.android.com/reference/android/support/v7/media/MediaRouter">Mediarouter v7</a></td>
			<td><code translate="No">com.android.support:mediarouter-v7:27.0.0</code></td>
		</tr>
		<tr>
			<td><a href="https://developer.android.com/topic/libraries/support-library/packages#v7">Appcompat v7</a></td>
			<td><code translate="No">com.android.support:appcompat-v7:27.0.0</code></td>
		</tr>
		<tr>
			<td><a href="https://developer.android.com/topic/libraries/support-library/packages#v4">Support v4</a></td>
			<td><code translate="No">com.android.support:support-v4:27.0.0</code></td>
		</tr>
		<tr>
			<td><a href="https://developers.google.com/android/reference/com/google/android/gms/cast/package-summary">Cast Framework</a></td>
			<td><code translate="No">com.google.android.gms:play-services-cast-framework:11.4.2</code></td>
		</tr>
		<tr>
			<td><a href="https://github.com/google/ExoPlayer/tree/release-v2/library/core">ExoPlayer Core</a></td>
			<td><code translate="No">com.google.android.exoplayer:exoplayer-core:2.7.0</code></td>
		</tr>
		<tr>
			<td><a href="https://github.com/google/ExoPlayer/tree/release-v2/library/ui">ExoPlayer UI</a></td>
			<td><code translate="No">com.google.android.exoplayer:exoplayer-ui:2.7.0</code></td>
		</tr>
	</tbody>
</table>
</section> -->

<!-- <section class="bcls-section">
<h2 id="Limitations">Limitations</h2>

<p>With the current Brightcove Native SDK for Android release, certain Video Cloud features have limited support, or are not supported when using the Cast plugin with the Google sample receiver app:</p>

<ul>
	<li>Captions
	<ul>
		<li>Only in-manifest captions with Dynamic Delivery DASH display as expected when using the Cast plugin with the Google sample receiver app.</li>
		<li>In-manifest captions with HLS and Sidecar captions in any video configuration are not currently supported when using the Cast plugin with the Google sample receiver app.</li>
	</ul>
	</li>
	<li>Widevine Modular DRM is not supported when using the Cast plugin with the Google sample receiver app.</li>
	<li>Multiple Audio Tracks are not supported when using the Cast plugin with the Google sample receiver app.</li>
	<li>Client-side and Server-side Advertising is not supported when using the Cast plugin with the Google sample receiver app.</li>
	<li>Live and Live DVR streams are not supported when using the Cast plugin with the Google sample receiver app.</li>
	<li>Casting Offline Videos is not currently supported. When you download a video, the Source url is changed to point to a local file. If you then try casting that Video, the plugin will pick the local source but the Chromecast device will not be able to request the video.</li>
</ul>

<h3 id="Handling_currently_unsupported_features">Handling currently unsupported features</h3>

<p>The Cast plugin is responsible for gathering MediaInfo data, such as video url, title, description, and poster image, and casting it to your connected Chromecast device. Note that successful playback of the Video and display of the metadata ultimately depends on the Application Receiver.</p>

<p>It is the developer's responsibility to evaluate the Application Receiver for what it supports, and its limitations. Therefore, the developer should implement UI elements that inform the user what can or can’t be cast. For example, if the Application Receiver does not support Videos with DRM or Ads, your Android app must handle these scenarios.</p>
</section> -->

<section class="bcls-section">
<h2 id="Known_Issues">Bekannte Probleme</h2>

<h3>Android 9</h3>

<p>Wenn Sie Chromecast mit Android 9 und höher verwenden, müssen Sie a <code translate="No">FOREGROUND_SERVICE</code> Erlaubnis. Auf diese Weise kann die App Benachrichtigungen verwenden, um eine Casting-Sitzung zu steuern, wenn die App im Hintergrund und wieder in den Vordergrund gebracht wird.</p>

<p>Die <code translate="No">uses-permission</code> Tag sollte der App hinzugefügt werden <strong>AndroidManifest.xml</strong> Datei wie folgt:</p>

<pre>
<code class="language-java" translate="No">&lt;uses-permission android:name="android.permission.FOREGROUND_SERVICE"/&gt;</code></pre>

<!-- <h3>Volume control</h3>

<p>The volume control in the Cast dialog may not decrease all the way to zero on the sending device. When using the volume control in the Cast dialog, or the volume buttons on the sending device, the displayed volume level may jump back up slightly to show a non-zero value on the sender. However, the receiver will display a non-zero value. This is a behavior with the Google Cast dialog, and not within the Brightcove Android SDK.</p> -->

<h4>Google Play-Dienste</h4>

<p>Die Casting-Verbindung darf nicht erstellt werden, wenn die Version der Google Play-Dienste des Absenders nicht aktuell ist. Wenn die Google Play-Dienste des Absenders, insbesondere das Cast-Dienste-Framework, veraltet sind, kann es sein, dass Sie keine Cast-Verbindung herstellen können. Dies wird behoben, indem die Google Play-Dienste des Absenders über den Google Play Store aktualisiert werden.</p>
</section>
</article>