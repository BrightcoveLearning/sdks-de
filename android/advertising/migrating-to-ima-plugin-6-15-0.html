---
title: Migration zum IMA-Plug-in 6.15.0 von Brightcove: In diesem Thema erfahren Sie, wie Sie Ihre App migrieren, um das IMA-Plug-in von Brightcove für das Native SDK für Android 6.15.0 zu verwenden.
parent: Advertising 
grandparent: Android Development
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>


<section class="bcls-section">
<h2 id="Overview">Überblick</h2>
<p>Das Brightcove Native SDK für Android 6.15.0 oder höher unterstützt die Google IMA SDK Version 3.19.4. Wenn Sie IMA-Werbung verwenden, müssen Sie einige Dinge beachten, um diese Version des IMA-Plug-ins zu verwenden. Sie umfassen Folgendes:</p>
<ul>
  <li>
    <a href="#Changes_in_the_Google_IMA_SDK">Änderungen im Google IMA SDK</a>
  </li>
  <li>
     <a href="#Changes_in_the_Brightcove_IMA_plugin">Änderungen im Brightcove IMA-Plug-in</a>
  </li>
  <li>
     <a href="#Migrating_to_the_IMA_Plugin_6_15_0">Migration zum IMA-Plug-in 6.15.0&lt;/a
    </li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Changes_in_the_Google_IMA_SDK">Änderungen im Google IMA SDK</h2>
<p>
  Das Brightcove Native SDK hat das Google IMA SDK von Version 3.11.2 auf Version 3.19.4 aktualisiert. Zu den wichtigsten Änderungen zählen:
</p>
<ul>
  <li>
    <code translate="No">SdkFactory.createAdDisplayContainer()</code> ist veraltet
  </li>
  <li>
    <code translate="No">AdDisplayContainer.setPlayer(VideoAdPlayer)</code> ist veraltet
  </li>
  <li>
    <code translate="No">AdDisplayContainer.setAdContainer(ViewGroup)</code> ist veraltet
  </li>
  <li>
    <code translate="No">AdsRequest.setAdDisplayContainer(AdDisplayContainer)</code> ist entfernt
  </li>
</ul>
<p>Die vollständige Version finden Sie in der <a href="https://developers.google.com/interactive-media-ads/docs/sdks/android/client-side/history">Veröffentlichungsverlauf des Google IMA Android SDK</a> dokumentieren.</p>
</section>

<section class="bcls-section">
<h2 id="Changes_in_the_Brightcove_IMA_plugin">Änderungen im Brightcove IMA-Plug-in</h2>
<p>
  Das Brightcove IMA-Plug-in hat mehrere Änderungen vorgenommen, um vollständig mit der neuen Google IMA SDK-Version kompatibel zu sein. Sie beinhalten:
</p>
<ul>
  <li>
    <a href="#Using_the_GoogleIMAComponent_Builder">Verwenden des GoogleIMAComponent Builder</a>
  </li>
  <li>
     <a href="#Creating_the_AdDisplayContainer">Erstellen des AdDisplayContainers</a>
  </li>
  <li>
     <a href="#Deprecated_methods_in_GoogleIMAVideoAdPlayer">Veraltete Methoden in GoogleIMAVideoAdPlayer</a>
  </li>
</ul>

<h3 id="Using_the_GoogleIMAComponent_Builder">Verwenden des GoogleIMAComponent Builder</h3>
<p>Wir empfehlen, den Builder zu verwenden, um die <code translate="No">GoogleIMAComponent</code> Beispiel. Dies erleichtert die Konfiguration der <code translate="No">GoogleIMAComponent</code>.</p>
<pre class="line-numbers"><code class="language-java" translate="No">googleIMAComponent = new GoogleIMAComponent.Builder(brightcoveVideoView, eventEmitter)
  .setUseAdRules(true)
  .setImaSdkSettings(customIMASDKSettings)
  .setAdsRenderingSettings(customAdsRenderingSettings)
  .setAdDisplayContainerFactory(customAdDisplayContainerFactory)
  .build();
}</code></pre>

<h3 id="Creating_the_AdDisplayContainer">Erstellen des AdDisplayContainers</h3>
<p>Weil das Google IMA SDK entfernt wurde <code translate="No">AdsRequest.setAdDisplayContainer(...)</code> erstellt das Brightcove IMA-Plug-in dies jetzt automatisch mithilfe der <code translate="No">GoogleIMAVideoAdPlayer</code> und der <code translate="No">BaseVideoView</code>.</p>
<p>Das Plugin erfordert eine <code translate="No">AdDisplayContainerFactory</code> um die zu erstellen <code translate="No">AdDisplayContainer</code>.</p>
<pre class="line-numbers"><code class="language-java" translate="No">public interface AdDisplayContainerFactory {
  /**
  * Creates the AdDisplayContainer with the provided GoogleIMAVideoAdPlayer
  * and the ViewGroup retrieved with getViewContainer()
  *
  * @param googleIMAVideoAdPlayer the Brightcove Ad Player for Google IMA
  */
  AdDisplayContainer createAdDisplayContainer(GoogleIMAVideoAdPlayer googleIMAVideoAdPlayer);

  /**
  * Returns the ViewGroup container used for both,
  * the creation of the GoogleIMAVideoAdPlayer and the AdDisplayContainer
  */
  ViewGroup getViewContainer();
}
</code></pre>
<p>Unter der Haube verwendet das Plugin die <code translate="No">DefaultAdDisplayContainerFactory</code> , ein <code translate="No">AdDisplayContainerFactory</code> , um die . zu erstellen <code translate="No">AdDisplayContainer</code>. Die <code translate="No">getViewContainer()</code> gibt die zurück <code translate="No">BaseVideoView</code> in seinem Konstruktor übergeben, und die <code translate="No">createAdDisplayContainer</code> Methode gibt zurück:</p>

<pre><code class="language-java" translate="No">ImaSdkFactory.createAdDisplayContainer(getViewContainer(), googleIMAVideoAdPlayer);</code></pre>

<h4>Fügen Sie Ihre AdDisplayContainerFactory hinzu</h4>
<p>Wenn Sie eine andere Implementierung benötigen, müssen Sie Ihre eigene bestehen <code translate="No">AdDisplayContainerFactory</code> zum <code translate="No">GoogleIMAComponent</code> Erbauer:</p>
<pre class="line-numbers"><code class="language-java" translate="No">googleIMAComponent = new GoogleIMAComponent.Builder(brightcoveVideoView, eventEmitter)
  .setAdDisplayContainerFactory(customAdDisplayContainerFactory)
  .build();
</code></pre>

<p>Wenn Sie die Anzeigen in einer anderen Ansicht als der <code translate="No">BaseVideoView</code> , können Sie die <code translate="No">DefaultAdDisplayContainerFactory</code> mit Ihrem <code translate="No">ViewGroup</code>.</p>
<pre class="line-numbers"><code class="language-java" translate="No">googleIMAComponent = new GoogleIMAComponent.Builder(brightcoveVideoView, eventEmitter)
  .setAdDisplayContainerFactory(new DefaultAdDisplayContainerFactory(myViewGroup))
  .build();
</code></pre>

<h3 id="Deprecated_methods_in_GoogleIMAVideoAdPlayer">Veraltete Methoden in GoogleIMAVideoAdPlayer</h3>
<p>Die folgenden Methoden sind in der <code translate="No">GoogleIMAVideoAdPlayer</code> Klasse:</p>
<table class="bcls-table">
  <thead class="bcls-table__head">
    <tr>
      <!-- <th style="width:10%">Deprecated</th> -->
      <th>Veraltete Methode</th>
      <th style="text-align:center";>Stattdessen verwenden</th>
    </tr>
  </thead>
  <tbody class="bcls-table__body">
    <tr>
      <td><code translate="No">playAd()</code></td>
      <td><code translate="No">playAd(AdMediaInfo)</code></td>
    </tr>
    <tr>
      <td><code translate="No">loadAd(String)</code></td>
      <td><code translate="No">loadAd(AdMediaInfo, AdPodInfo)</code></td>
    </tr>
    <tr>
      <td><code translate="No">stopAd()</code></td>
      <td><code translate="No">stopAd(AdMediaInfo)</code></td>
    </tr>
    <tr>
      <td><code translate="No">resumeAd()</code></td>
      <td><code translate="No">playAd(AdMediaInfo)</code></td>
    </tr>
    <tr>
      <td><code translate="No">pauseAd()</code></td>
      <td><code translate="No">pauseAd(AdMediaInfo)</code></td>
    </tr>
  </tbody>
</table>
<br/>
<p>Beachten Sie, dass die Ersetzungsmethoden jetzt <code translate="No">AdMediaInfo</code>. Sie können den aktuellen abrufen <code translate="No">AdMediaInfo</code> Objekt durch Aufruf <code translate="No">GoogleIMAVideoAdPlayer.getCurrentAdMediaInfo()</code>. Dies gibt das geladene zurück <code translate="No">AdMediaInfo</code> , oder <code translate="No">Null</code>.</p>
</section>

<section class="bcls-section">
<h2 id="Migrating_to_the_IMA_Plugin_6_15_0">Migration zum IMA-Plug-in 6.15.0</h2>
<p>
  Gehen Sie wie folgt vor, um zum Brightcove IMA-Plug-in 6.15.0 zu migrieren:
</p>
<ul>
  <li>
    <a href="#Update_dependency_versions">Abhängigkeitsversionen aktualisieren</a>
  </li>
  <li>
    <a href="#Remove_deprecated_methods">Veraltete Methoden entfernen</a>
  </li>
</ul>

<h3 id="Update_dependency_versions">Abhängigkeitsversionen aktualisieren</h3>
<p>Aktualisieren Sie Ihre App, um die folgenden Abhängigkeitsversionen zu verwenden:</p>
<ul>
  <li>
    Alle Brightcove SDK-Abhängigkeiten sind auf Version 6.15.0 festgelegt
  </li>
  <li>
    Verwenden Sie die Google IMA SDK-Version 3.19.4
  </li>
  <li>
    Verwenden Sie die Google Play-Dienste Version 19.2.0
  </li>
</ul>
<p>Hier ist ein Beispiel für die <strong>build.gradle</strong> Datei:</p>
<pre class="line-numbers"><code class="language-java" translate="No">//build.gradle
dependencies {
 //Brightcove SDK dependencies
 implementation &quot;com.brightcove.player:android-sdk6.15.0:&quot;
 implementation &quot;com.brightcove.player:exoplayer2:6.15.0&quot;
 implementation &quot;com.brightcove.player:android-ima-plugin:6.15.0&quot;

 //Google IMA SDK
 implementation &quot;com.google.ads.interactivemedia.v3:interactivemedia:3.19.4&quot;

 //Google Play Services
 implementation &quot;com.google.android.gms:play-services-ads:19.2.0&quot;
 ...
}
</code></pre>

<h3 id="Remove_deprecated_methods">Veraltete Methoden entfernen</h3>
<p>Ihr aktuelles Google IMA-Setup könnte etwa so aussehen:</p>
<pre class="line-numbers"><code class="language-java" translate="No">AdDisplayContainer container = sdkFactory.createAdDisplayContainer();
container.setPlayer(googleIMAComponent.getVideoAdPlayer());
container.setAdContainer(brightcoveVideoView);
</code></pre>
<p>Diese drei Methoden sind veraltet und werden eingestellt.</p>
<p>Sie müssen jetzt anrufen <code translate="No">googleIMAComponent.getAdDisplayContainer()</code> und es wird die zurückgeben <code translate="No">AdDisplayContainer</code> in Verbindung mit <code translate="No">GoogleIMAVideoAdPlayer</code> , oder null, wenn nicht verfügbar.</p>
<p>Weitere Informationen zum Erstellen der <code translate="No">AdDisplayContainer</code> , siehe die <a href="#Creating_the_AdDisplayContainer">Erstellen des AdDisplayContainers</a> Sektion.</p>
<p>Die folgende Methode wurde auch aus dem Google IMA SDK entfernt:</p>
<pre><code class="language-java" translate="No">adsRequest.setAdDisplayContainer(container);
</code></pre>
<p>Verwenden Sie stattdessen die <code translate="No">AdDisplayContainer</code> um eine Instanz des Google IMA zu erstellen <code translate="No">AdsLoader</code>.</p>
<p>Einzelheiten zu veralteten Methoden und deren Ersetzungen finden Sie im <a href="#Deprecated_methods_in_GoogleIMAVideoAdPlayer">Veraltete Methoden in GoogleIMAVideoAdPlayer</a> Sektion.</p>
</section>

<section class="bcls-section">
<h2 id="More_information">Mehr Informationen</h2>
<p>Weitere Informationen zu IMA-Änderungen finden Sie im <a href="https://developers.google.com/interactive-media-ads/docs/sdks/android/client-side/history">Veröffentlichungsverlauf des Google IMA Android SDK</a> Dokumentation.</p>
<p>Bei diesbezüglichen Fragen können Sie sich gerne an das Brightcove SDK-Team über die <a href="https://groups.google.com/g/brightcove-native-player-sdks">Brightcove SDK-Forum</a>.</p>
</section>

</article>