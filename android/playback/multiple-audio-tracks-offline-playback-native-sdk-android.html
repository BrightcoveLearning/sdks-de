---
title: 'Mehrere Audiospuren für die Offline-Wiedergabe mit dem nativen SDK für Android'
description: In diesem Thema erfahren Sie, wie Sie mehrere Audio- und Textspuren zurückgeben, wenn Sie mit der Offlinewiedergabe mit dem Brightcove Native Player SDK für Android arbeiten.
parent: Playback 
grandparent: Android Development
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Manage_multiple_tracks">Mehrere Tracks verwalten</h2>

<p>Standardmäßig werden keine Untertiteldateien und nur eine Audiospur heruntergeladen. Gehen Sie wie folgt vor, um zusätzliche mit dem Video verknüpfte Assets herunterzuladen:</p>

<ol class="bcls-tasklist">
	<li>
	<p>Erhalten Sie einen Verweis auf die Video Cloud <a href="/android/reference/javadoc/com/brightcove/player/edge/OfflineCatalog.html">OfflineKatalog</a> Klient.</p>

	<pre>
<code class="language-java" translate="No">private OfflineCatalog catalog;
...
catalog = new OfflineCatalog(this, eventEmitter, ACCOUNT_ID, POLICY_KEY);
...</code></pre>
	</li>
	<li>
	<p>Ruf die <a href="/android/reference/javadoc/com/brightcove/player/edge/AbstractOfflineCatalog.html#getMediaFormatTracksAvailable-com.brightcove.player.model.Video-com.brightcove.player.offline.MediaDownloadable.MediaFormatListener-">getMediaFormatTracksAvailable</a> Methode, Übergabe in der <a href="/android/reference/javadoc/com/brightcove/player/model/Video.html">Video</a> Objekt, über das Sie Informationen erhalten möchten, und die <a href="/android/reference/javadoc/com/brightcove/player/offline/MediaDownloadable.MediaFormatListener.html">MediaFormatListener</a> auf die zurückgegebenen Daten zu hören.</p>

	<pre>
<code class="language-java" translate="No">OfflineCatalog.getMediaFormatTracksAvailable(
  @NonNull final Video video,
  @NonNull final MediaDownloadable.MediaFormatListener mediaFormatListener)</code></pre>
	</li>
	<li>
	<p>Die <code translate="No">MediaFormatListener</code> ruft die folgende Methode auf:</p>

	<pre>
<code class="language-java" translate="No">void onResult(MediaDownloadable mediaDownloadable, Bundle mediaFormatBundle);</code></pre>

	<p>Die <a href="/android/reference/javadoc/com/brightcove/player/offline/MediaDownloadable.html">MedienHerunterladbar</a> -Objekt enthält Informationen, einschließlich Videowiedergaben, Audiosprachen und Bildunterschriften. Die <code translate="No">mediaDownloadable</code> Objekt wird zwischengespeichert und verwendet, wenn Sie aufrufen <a href="/android/reference/javadoc/com/brightcove/player/edge/AbstractOfflineCatalog.html#downloadVideo-com.brightcove.player.model.Video-">OfflineCatalog.downloadVideo(Video)</a>.</p>

	<p>Die <a href="/android/reference/javadoc/com/brightcove/player/offline/MediaDownloadable.MediaFormatListener.html">Bündeln</a> -Objekt enthält Informationen zu den verfügbaren Medienformat-Tracks und hat die folgenden Eigenschaften:</p>

	<ul>
		<li><a href="/android/reference/javadoc/com/brightcove/player/offline/MediaDownloadable.html#VIDEO_RENDITIONS">MedienHerunterladbar.VIDEO_RENDITIONS</a> - Enthält eine Array-Liste von <code translate="No">MediaFormat</code> Objekte</li>
		<li><a href="/android/reference/javadoc/com/brightcove/player/offline/MediaDownloadable.html#AUDIO_LANGUAGES">MedienHerunterladbar.AUDIO_LANGUAGES</a> - Enthält eine Array-Liste von <code translate="No">MediaFormat</code> Objekte.</li>
		<li><a href="/android/reference/javadoc/com/brightcove/player/offline/MediaDownloadable.html#AUDIO_LANGUAGE_ROLES">MedienHerunterladbar.AUDIO_LANGUAGE_ROLES</a> - Enthält eine Array-Liste von Strings. Diese Liste enthält zusätzliche Informationen bezüglich der <code translate="No">MediaDownloadable.AUDIO_LANGUAGES</code>. Die Indizes stimmen mit der Liste der Audiosprachen überein. Beispiele für Audiorollen können Haupt- und Alternativrollen sein.</li>
		<li><a href="/android/reference/javadoc/com/brightcove/player/offline/MediaDownloadable.html#CAPTIONS">MedienHerunterladbar.CAPTIONS</a> - Enthält eine Array-Liste von <code translate="No">MediaFormat</code> Objekte</li>
	</ul>
	</li>
	<li>
	<p>Rufen Sie Datenlisten aus dem Bundle ab. Hier sind Beispiele zum Abrufen der verschiedenen Listen:</p>

	<pre>
<code class="language-java" translate="No">ArrayList&lt;MediaFormat&gt; video = bundle.getParcelableArrayList(MediaDownloadable.VIDEO_RENDITIONS);

ArrayList&lt;MediaFormat&gt; audio = bundle.getParcelableArrayList(MediaDownloadable.AUDIO_LANGUAGES);

ArrayList&lt;String&gt; roles = bundle.getStringArrayList(MediaDownloadable.AUDIO_LANGUAGE_ROLES);

ArrayList&lt;MediaFormat&gt; captions = bundle.getParcelableArrayList(MediaDownloadable.CAPTIONS);</code></pre>
	</li>
	<li>
	<p>Erstelle eine neue <code translate="No">Bundle</code> (<code translate="No">filteredBundle</code> ), um die Audiotracks und Untertitel auszuwählen, die Sie in den Download einschließen möchten.</p>

	<pre>
<code class="language-java" translate="No">Bundle filteredBundle = new Bundle();</code></pre>

	<aside class="bcls-aside bcls-aside--information">Wenn Sie das zuvor erstellte Bundle wiederverwenden, können Sie alle Audiotracks und Untertitel herunterladen.</aside>
	</li>
	<li>
	<p>Filtern Sie die gewünschten Tracks aus der Liste, die Sie zuvor erstellt haben, und fügen Sie sie der neuen hinzu <code translate="No">filteredBundle</code>.</p>

	<pre>
<code class="language-java" translate="No">ArrayList&lt;MediaFormat&gt; captions = bundle.getParcelableArrayList(MediaDownloadable.CAPTIONS);
if (captions != null &amp;&amp; captions.size() &gt; 0) {
   ArrayList&lt;MediaFormat&gt; newCaptions = new ArrayList&lt;&gt;();
   newCaptions.add(captions.get(0));

filteredBundle.putParcelableArrayList(MediaDownloadable.CAPTIONS, newCaptions);
}</code></pre>
	</li>
	<li>
	<p>Stellen Sie die <code translate="No">filteredBundle</code> zum <code translate="No">MediaDownloadable</code> Objekt.</p>

	<pre>
<code class="language-java" translate="No">mediaDownloadable.setConfigurationBundle(filteredBundle);</code></pre>
	</li>
	<li>
	<p>Laden Sie das Video herunter.</p>

	<pre>
<code class="language-java" translate="No">offlineCatalog.downloadVideo(video);</code></pre>

	<p>Intern ist die <code translate="No">OfflineCatalog</code> wird das zwischengespeicherte verwenden <code translate="No">MediaDownloadable</code> bereitgestellt von der <code translate="No">MediaDownloadable.MediaFormatListener</code> zurückrufen.</p>
	</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Code_sample">Codebeispiel</h2>

<p>Ein vollständiges Beispiel zum Herunterladen zusätzlicher Audiotracks und Untertiteldateien finden Sie im <a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/OfflinePlaybackSampleApp/src/main/java/com/brightcove/player/samples/offlineplayback">Beispiel-App für die Offline-Wiedergabe</a>.</p>
</section>
</article>