---
title: 'Ändern der Größe der Videoansicht mit dem nativen SDK für Android'
description: In diesem Thema erfahren Sie, wie Sie die innere Videoansicht skalieren/dehnen, um die <code translate="No">BrightcoveVideoView</code> beim Arbeiten mit dem Native SDK für Android.
parent: Framework 
grandparent: Android Development
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Overview">Überblick</h2>
<p>Als Entwickler können Sie das Standardverhalten für die Anzeige des Videos in der Videoansicht ändern. Sie können die innere Videoansicht skalieren/dehnen (<code translate="No">SurfaceView</code>/<code translate="No">TextureView</code> ) um die zu füllen <code translate="No">BrightcoveVideoView</code> (<code translate="No">FrameLayout</code>). Dazu können Sie auf die <code translate="No">EventType.VIDEO_SIZE_KNOWN</code> Ereignis, rechnen Sie etwas nach und stellen Sie die Anzeigewerte ein.</p>
<p>Es gibt zwei Möglichkeiten, die Videoansicht zu ändern:</p>
<ul>
  <li>
    <a href="#Resizing_the_container">Größe des Containers ändern (<code translate="No">BaseVideoView</code>/<code translate="No">FrameLayout</code>)</a>
  </li>
  <li>
    <a href="#Resizing_the_video">Größe des Videos ändern (<code translate="No">SurfaceView</code>)</a>
  </li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Resizing_the_container">Größe des Containers ändern</h2>
<p>Vielleicht möchten Sie eine App entwickeln, die die Videoansicht so einstellt, dass sie im Hochformat auf den gesamten Gerätebildschirm passt. Sie können dies tun, indem Sie die Größe des Containers ändern (<code translate="No">BaseVideoView</code>/<code translate="No">FrameLayout</code>).</p>
<aside class="bcls-aside bcls-aside--information">Weil das <code translate="No">Video</code> Ist die Höhe zunächst unbekannt, entspricht sie der Größe der übergeordneten Ansicht (der gesamte Bildschirm im <a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/BasicSampleApp/src/main">BasicSampleApp</a> ) bis zum <code translate="No">VIDEO_SIZE_KNOWN</code> Ereignis ausgelöst wird. Dann ist die <code translate="No">BaseVideoView</code> wird die einwickeln <code translate="No">SurfaceView</code>. Wenn Sie die Größe des Containers ändern, sehen Sie möglicherweise ein anfängliches Flackern.</aside>

<h3>Legen Sie die Containereigenschaft fest</h3>
<p>Wenn Sie schwarze Ränder um Ihr Video sehen, können Sie versuchen, die <code translate="No">BrightcoveVideoView</code> <code translate="No">layout-height</code>.</p>
<ol class="bcls-tasklist">
    <li>Öffnen Sie die XML-Datei <strong>Layout</strong> Datei.</li>
    <li>Stellen Sie die <code translate="No">BrightcoveVideoView layout-height</code> zu <code translate="No">wrap_content</code>.</li>
    <li>Es kann zu einem anfänglichen Flackern kommen, wie im obigen Hinweis beschrieben.</li>
</ol>

<h3>Legen Sie die Größe der Videoansicht fest</h3>
<p>Eine andere Möglichkeit, die Videoansicht zu steuern, besteht darin, die Größe programmgesteuert festzulegen.</p>
<ol class="bcls-tasklist-restart">
    <li>Um das anfängliche Flimmern zu minimieren, versuchen Sie die Einstellung <code translate="No">layout_height</code> auf einen bestimmten Wert (zB 280dp). Das Ziel ist, dass die eingestellte Höhe der berechneten Höhe entspricht.</li>
    <li>Hören Sie auf die <code translate="No">EventType.VIDEO_SIZE_KNOWN</code> Veranstaltung.</li>
    <li>Bekommen das <code translate="No">Event.VIDEO_WIDTH</code> und <code translate="No">Event.VIDEO_HEIGHT</code></li>
    <li>Bestimmen Sie mit diesen Werten das Seitenverhältnis.</li>
    <li>Verwenden Sie das Seitenverhältnis, um die Breite und Höhe auf dem Display zu berechnen.</li>
</ol>
<p>Diese Lösung sieht ähnlich aus:</p>
<pre class="line-numbers">
<code class="language-java" translate="No">//Event sent when we know the Video dimensions.
eventEmitter.on(EventType.VIDEO_SIZE_KNOWN, new EventListener() {
  @Override
  public void processEvent(Event event) {
    // Get the width and height
    float width = event.getIntegerProperty(Event.VIDEO_WIDTH);
    float height = event.getIntegerProperty(Event.VIDEO_HEIGHT);
    float aspectRatio = height/width;

    //Get the display metrics
    DisplayMetrics metrics = new DisplayMetrics();
    getWindowManager().getDefaultDisplay().getMetrics(metrics);
    int videoWidth = metrics.widthPixels; // We cover the entire display's width
    int videoHeight = (int) (videoWidth*aspectRatio); //Calculate the height based on the ratio

    // Set the layout params
    brightcoveVideoView.setLayoutParams(new FrameLayout.LayoutParams(videoWidth,videoHeight));
  }
});
</code></pre>
<p>Beim Hinzufügen einer Ansicht müssen Sie die Layoutparameter überschreiben. Einzelheiten finden Sie im <a href="/android/framework/android-adding-viewmanaging-layout.html">Android: Ansicht hinzufügen/Layout verwalten</a> dokumentieren.</p>
</section>

<section class="bcls-section">
<h2 id="Resizing_the_video">Größe des Videos ändern</h2>
<p>Sie können ein Doppeltippen implementieren, das den Bildschirm ausfüllt. Dies würde ein 16:9-Video aufnehmen und den Bildschirm auf einem 18:9- oder 19:9-Gerät ausfüllen.</p>
<p>Sie können dies tun, indem Sie die Größe des tatsächlichen Videos ändern (<code translate="No">SurfaceView</code>).</p>
<ol class="bcls-tasklist-restart">
    <li>
      <p>
        Wenn Sie die Breite und die Höhe auf die <code translate="No">renderView</code> Um der Größe des Gerätedisplays zu entsprechen, wird die Größe des Videos an den gesamten Bildschirm angepasst.
      </p>
      <aside class="bcls-aside bcls-aside--information">Dadurch wird das eigentliche Video nicht gedehnt. Das machen wir im nächsten Schritt.</aside>
      <pre class="line-numbers">
<code class="language-java" translate="No">//Event sent when we know the Video dimensions.
eventEmitter.on(EventType.VIDEO_SIZE_KNOWN, new EventListener() {
  @Override
  public void processEvent(Event event) {
    // Get the width and height
    float width = event.getIntegerProperty(Event.VIDEO_WIDTH);
    float height = event.getIntegerProperty(Event.VIDEO_HEIGHT);
    float aspectRatio = height/width;

    //Get the display metrics
    DisplayMetrics metrics = new DisplayMetrics();
    getWindowManager().getDefaultDisplay().getMetrics(metrics);
    int videoWidth = metrics.widthPixels; // We cover the entire display's width
    int videoHeight = (int) (videoWidth*aspectRatio); //Calculate the height based on the ratio

    // Set the video size
    brightcoveVideoView.getRenderView().setVideoSize(videoWidth, videoHeight);
  }
});
</code></pre>
    </li>
    <li>
      <p>
        Der folgende Code aktualisiert die zugrunde liegende Videoansicht (z. B. <code translate="No">SurfaceView</code> ) passend zu seinem Elternteil <code translate="No">BaseVideoView</code> (<code translate="No">FrameLayout</code>). Dabei sind mehrere Dinge zu beachten:
      </p>
      <ul>
        <li>
          Sie müssen auf die hören <code translate="No">VIDEO_SIZE_KNOWN</code> Ereignis beim Aufrufen und Verlassen des Vollbildmodus und beim Drehen des Geräts.
        </li>
        <li>
          Sie müssen entscheiden, wann Ihre Ansicht für die oben genannten Bedingungen aktualisiert werden soll.
        </li>
      </ul>
  <p>Ein Szenario könnte sein, dass Sie die <code translate="No">BaseVideoView layout_height</code> zu <code translate="No">280dp</code> und dann die Größe ändern <code translate="No">SurfaceView</code> passen <code translate="No">280dp</code>. Das Seitenverhältnis wird geringfügig geändert. Wenn ein Benutzer im Hochformat zum Vollbildmodus wechselt und <code translate="No">updateVideoViewMatchToParent()</code> heißt, dann sind beide <code translate="No">BaseVideoView</code> und <code translate="No">SurfaceView</code> füllt das Display des Geräts aus und das Video-Seitenverhältnis wird leicht geändert.</p>
<pre class="line-numbers">
<code class="language-java" translate="No">public void updateVideoViewMatchToParent(@NonNull BaseVideoView brightcoveVideoView) {
  RenderView renderView = brightcoveVideoView.getRenderView();
  if (renderView != null) {
      renderView.setVideoSize(brightcoveVideoView.getWidth(), brightcoveVideoView.getHeight());
  }
}
</code></pre>
<p>Um das Doppeltippen zu erkennen, können Sie die <a href="https://developer.android.com/reference/android/view/GestureDetector.OnDoubleTapListener">GestureDetector.OnDoubleTapListener</a> Schnittstelle. Einzelheiten finden Sie im <a href="https://developer.android.com/training/gestures/detector">Häufige Gesten erkennen</a> dokumentieren.</p>
    </li>
</ol>
<p>Wenn Sie das Video strecken möchten, ohne das Seitenverhältnis zu berücksichtigen (ohne das Video zu beschneiden), können Sie Folgendes versuchen:</p>
<pre class="line-numbers">
<code class="language-java" translate="No">eventEmitter.on(EventType.VIDEO_SIZE_KNOWN, new EventListener() {
  @Override
  public void processEvent(Event event) {
      //Get the display metrics
      DisplayMetrics metrics = new DisplayMetrics();
      getWindowManager().getDefaultDisplay().getMetrics(metrics);

      int videoHeight = metrics.heightPixels;
      int videoWidth = metrics.widthPixels;
      brightcoveVideoView.getRenderView().setVideoSize(videoWidth, videoHeight);
  }
});
</code></pre>
<aside class="bcls-aside bcls-aside--information"> Es ist wichtig, dass die <code translate="No">BaseVideoView</code> Verwendet <code translate="No">match_parent</code> für beide <code translate="No">layout_width</code> und <code translate="No">layout_height</code> für die <code translate="No">SurfaceView</code> um das Display des Geräts zu füllen.</aside>

<p>Beachten Sie, dass die angezeigten Werte von der Ausrichtung des Geräts beeinflusst werden. Um das Video sowohl im Hoch- als auch im Querformat zu dehnen, müssen Sie Folgendes tun:</p>
<ol class="bcls-tasklist-restart">
    <li>
      <p>
        Folgendes überschreiben <code translate="No">Activity</code>:
      </p> 
      <pre>
<code class="language-java" translate="No">public void onConfigurationChanged(Configuration configuration)</code>
</pre>
    </li>
    <li>Setzen Sie die Videogröße zurück.</li>
</ol>
</section>

</article>